---
http_interactions:
- request:
    method: get
    uri: http://localhost:3000/api/v<VENDOR_ID>/customers/gid:%2F%2Fdummy%2FPay::Customer%2F772847388
    body:
      encoding: UTF-8
      string: ''
    headers:
      Authorization:
      - Bearer <VENDOR_ID>55ed033-87<VENDOR_ID>6-4587-9ac6-fed8ddae33<VENDOR_ID>7
      Content-Type:
      - application/json
      User-Agent:
      - Lago Ruby v0.44.0-beta
      Accept-Encoding:
      - gzip;q=<VENDOR_ID>.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"d<VENDOR_ID>b3aad578ce53dadbecc5fe652dfdb0"
      Cache-Control:
      - ma<VENDOR_AUTH_CODE>-age=0, private, must-revalidate
      X-Request-Id:
      - b3228<VENDOR_ID>43-c468-4540-b7bb-63d3a4c825db
      X-Runtime:
      - '0.007753'
      Vary:
      - Origin
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"customer":{"lago_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_id":"gid://dummy/Pay::Customer/772847388","name":"Lago
        User","sequential_id":4,"slug":"AMO-FBCD-004","created_at":"2023-09-<VENDOR_ID>8T06:42:57Z","updated_at":"2023-09-25T02:50:02Z","country":"US","address_line<VENDOR_ID>":null,"address_line2":null,"state":null,"zipcode":null,"email":"test@e<VENDOR_AUTH_CODE>ample.com","city":null,"url":null,"phone":null,"logo_url":null,"legal_name":null,"legal_number":null,"currency":"USD","ta<VENDOR_AUTH_CODE>_identification_number":null,"timezone":null,"applicable_timezone":"UTC","net_payment_term":null,"e<VENDOR_AUTH_CODE>ternal_salesforce_id":null,"billing_configuration":{"invoice_grace_period":null,"payment_provider":"stripe","vat_rate":null,"document_locale":null,"provider_customer_id":"test_<VENDOR_ID>00","provider_payment_methods":["card"],"sync_with_provider":null},"metadata":[],"ta<VENDOR_AUTH_CODE>es":[]}}'
  recorded_at: Mon, 25 Sep 2023 07:11:03 GMT
- request:
    method: post
    uri: http://localhost:3000/api/v<VENDOR_ID>/subscriptions
    body:
      encoding: UTF-8
      string: '{"subscription":{"e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","plan_code":"default","name":"default","e<VENDOR_AUTH_CODE>ternal_id":"gid://dummy/Pay::Subscription/9<VENDOR_ID>3727099"}}'
    headers:
      Authorization:
      - Bearer <VENDOR_ID>55ed033-87<VENDOR_ID>6-4587-9ac6-fed8ddae33<VENDOR_ID>7
      Content-Type:
      - application/json
      User-Agent:
      - Lago Ruby v0.44.0-beta
      Accept-Encoding:
      - gzip;q=<VENDOR_ID>.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"beb95<VENDOR_ID>ac67e<VENDOR_ID>2ebcc3f8e70370deda8<VENDOR_ID>"
      Cache-Control:
      - ma<VENDOR_AUTH_CODE>-age=0, private, must-revalidate
      X-Request-Id:
      - 49f40ea<VENDOR_ID>-bef7-4867-886<VENDOR_ID>-c3d3b<VENDOR_ID>0e4eed
      X-Runtime:
      - 0.0<VENDOR_ID>6995
      Vary:
      - Origin
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"subscription":{"lago_id":"3b678743-53d9-47c8-bf4b-e6f025d60b<VENDOR_ID>2","e<VENDOR_AUTH_CODE>ternal_id":"gid://dummy/Pay::Subscription/9<VENDOR_ID>3727099","lago_customer_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","name":"default","plan_code":"default","status":"active","billing_time":"calendar","subscription_at":"2023-09-22T04:39:<VENDOR_ID>8Z","started_at":"2023-09-22T04:39:<VENDOR_ID>8Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-22T04:39:<VENDOR_ID>8Z","previous_plan_code":null,"ne<VENDOR_AUTH_CODE>t_plan_code":null,"downgrade_plan_date":null,"subscription_date":"2023-09-22"}}'
  recorded_at: Mon, 25 Sep 2023 07:11:03 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v<VENDOR_ID>/subscriptions?e<VENDOR_AUTH_CODE>ternal_customer_id=gid://dummy/Pay::Customer/772847388&per_page=9223372036854775807
    body:
      encoding: UTF-8
      string: ''
    headers:
      Authorization:
      - Bearer <VENDOR_ID>55ed033-87<VENDOR_ID>6-4587-9ac6-fed8ddae33<VENDOR_ID>7
      Content-Type:
      - application/json
      User-Agent:
      - Lago Ruby v0.44.0-beta
      Accept-Encoding:
      - gzip;q=<VENDOR_ID>.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"3c80e8f22c6af797e60842ef88ceb5d4"
      Cache-Control:
      - ma<VENDOR_AUTH_CODE>-age=0, private, must-revalidate
      X-Request-Id:
      - 9b94b0cf-e2df-4606-a96f-7a634225e087
      X-Runtime:
      - '0.023287'
      Vary:
      - Origin
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"lago_id":"e462a9b8-caf3-4429-9465-fa2979fde0c<VENDOR_ID>","e<VENDOR_AUTH_CODE>ternal_id":"d7d<VENDOR_ID>2eca-4<VENDOR_ID>4d-42e3-9882-e<VENDOR_ID>e420e7b3b3","lago_customer_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","name":"","plan_code":"default","status":"active","billing_time":"anniversary","subscription_at":"2023-09-20T00:00:00Z","started_at":"2023-09-20T00:00:00Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-22T05:24:08Z","previous_plan_code":null,"ne<VENDOR_AUTH_CODE>t_plan_code":null,"downgrade_plan_date":null,"subscription_date":"2023-09-20"},{"lago_id":"e59ee63a-eb47-4c55-8678-9534bd839ce3","e<VENDOR_AUTH_CODE>ternal_id":"8f3c5594-ecc5-4d26-8b03-2b7eaa<VENDOR_ID>4043d","lago_customer_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","name":"","plan_code":"another_plan","status":"active","billing_time":"calendar","subscription_at":"2023-09-20T06:48:50Z","started_at":"2023-09-20T06:48:50Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-20T06:49:08Z","previous_plan_code":null,"ne<VENDOR_AUTH_CODE>t_plan_code":null,"downgrade_plan_date":null,"subscription_date":"2023-09-20"},{"lago_id":"7704d037-<VENDOR_ID>e78-4e5e-8a4c-d84bd970c2d0","e<VENDOR_AUTH_CODE>ternal_id":"0838e622-<VENDOR_ID>92e-46ef-ade7-204246b29<VENDOR_ID>43","lago_customer_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","name":"","plan_code":"default","status":"active","billing_time":"calendar","subscription_at":"2023-09-2<VENDOR_ID>T02:03:48Z","started_at":"2023-09-2<VENDOR_ID>T02:03:48Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-2<VENDOR_ID>T02:03:58Z","previous_plan_code":null,"ne<VENDOR_AUTH_CODE>t_plan_code":null,"downgrade_plan_date":null,"subscription_date":"2023-09-2<VENDOR_ID>"},{"lago_id":"3b678743-53d9-47c8-bf4b-e6f025d60b<VENDOR_ID>2","e<VENDOR_AUTH_CODE>ternal_id":"gid://dummy/Pay::Subscription/9<VENDOR_ID>3727099","lago_customer_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","name":"default","plan_code":"default","status":"active","billing_time":"calendar","subscription_at":"2023-09-22T04:39:<VENDOR_ID>8Z","started_at":"2023-09-22T04:39:<VENDOR_ID>8Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-22T04:39:<VENDOR_ID>8Z","previous_plan_code":null,"ne<VENDOR_AUTH_CODE>t_plan_code":null,"downgrade_plan_date":null,"subscription_date":"2023-09-22"},{"lago_id":"0ebd994b-a5e6-42df-ad0d-466eaf696<VENDOR_ID>bf","e<VENDOR_AUTH_CODE>ternal_id":"3bacb47e-2387-4a25-8a4<VENDOR_ID>-a59403307543","lago_customer_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","name":"","plan_code":"another_plan","status":"active","billing_time":"anniversary","subscription_at":"2023-09-22T05:23:25Z","started_at":"2023-09-22T05:23:25Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-22T05:23:3<VENDOR_ID>Z","previous_plan_code":null,"ne<VENDOR_AUTH_CODE>t_plan_code":null,"downgrade_plan_date":null,"subscription_date":"2023-09-22"},{"lago_id":"904bf77<VENDOR_ID>-888e-4246-a3c7-<VENDOR_ID>5da94ffa4cd","e<VENDOR_AUTH_CODE>ternal_id":"afad9669-a42a-446b-bc<VENDOR_ID>6-a60bf3eea2c3","lago_customer_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","name":"","plan_code":"default","status":"active","billing_time":"anniversary","subscription_at":"2023-08-22T00:00:00Z","started_at":"2023-09-22T05:25:<VENDOR_ID>5Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-22T05:25:<VENDOR_ID>5Z","previous_plan_code":"another_plan","ne<VENDOR_AUTH_CODE>t_plan_code":null,"downgrade_plan_date":null,"subscription_date":"2023-08-22"}],"meta":{"current_page":<VENDOR_ID>,"ne<VENDOR_AUTH_CODE>t_page":null,"prev_page":null,"total_pages":<VENDOR_ID>,"total_count":6}}'
  recorded_at: Mon, 25 Sep 2023 07:11:03 GMT
- request:
    method: delete
    uri: http://localhost:3000/api/v<VENDOR_ID>/subscriptions/gid:%2F%2Fdummy%2FPay::Subscription%2F9<VENDOR_ID>3727099
    body:
      encoding: UTF-8
      string: ''
    headers:
      Authorization:
      - Bearer <VENDOR_ID>55ed033-87<VENDOR_ID>6-4587-9ac6-fed8ddae33<VENDOR_ID>7
      Content-Type:
      - application/json
      User-Agent:
      - Lago Ruby v0.44.0-beta
      Accept-Encoding:
      - gzip;q=<VENDOR_ID>.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"c5<VENDOR_ID>8f7694e89e2f2cdab3c5c<VENDOR_ID><VENDOR_ID>5eaf07"
      Cache-Control:
      - ma<VENDOR_AUTH_CODE>-age=0, private, must-revalidate
      X-Request-Id:
      - 4550ab48-9f03-4f22-b33c-f0e33970fb48
      X-Runtime:
      - '0.035522'
      Vary:
      - Origin
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"subscription":{"lago_id":"3b678743-53d9-47c8-bf4b-e6f025d60b<VENDOR_ID>2","e<VENDOR_AUTH_CODE>ternal_id":"gid://dummy/Pay::Subscription/9<VENDOR_ID>3727099","lago_customer_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","name":"default","plan_code":"default","status":"terminated","billing_time":"calendar","subscription_at":"2023-09-22T04:39:<VENDOR_ID>8Z","started_at":"2023-09-22T04:39:<VENDOR_ID>8Z","terminated_at":"2023-09-25T07:<VENDOR_ID><VENDOR_ID>:03Z","canceled_at":null,"created_at":"2023-09-22T04:39:<VENDOR_ID>8Z","previous_plan_code":null,"ne<VENDOR_AUTH_CODE>t_plan_code":null,"downgrade_plan_date":null,"subscription_date":"2023-09-22"}}'
  recorded_at: Mon, 25 Sep 2023 07:11:03 GMT
recorded_with: VCR 6.2.0
