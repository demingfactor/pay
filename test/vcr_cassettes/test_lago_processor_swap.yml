---
http_interactions:
- request:
    method: get
    uri: http://localhost:3000/api/v<VENDOR_ID>/customers/gid:%2F%2Fdummy%2FPay::Customer%2F772847388
    body:
      encoding: UTF-8
      string: ''
    headers:
      Authorization:
      - Bearer <VENDOR_ID>55ed033-87<VENDOR_ID>6-4587-9ac6-fed8ddae33<VENDOR_ID>7
      Content-Type:
      - application/json
      User-Agent:
      - Lago Ruby v0.44.0-beta
      Accept-Encoding:
      - gzip;q=<VENDOR_ID>.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"af429c6f5<VENDOR_ID>b25054dd9b23522b77d57d"
      Cache-Control:
      - ma<VENDOR_AUTH_CODE>-age=0, private, must-revalidate
      X-Request-Id:
      - 55db2865-29d7-4e9c-99e5-84b7ca8e0529
      X-Runtime:
      - 0.008<VENDOR_ID>92
      Vary:
      - Origin
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"customer":{"lago_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_id":"gid://dummy/Pay::Customer/772847388","name":"Lago
        User","sequential_id":4,"slug":"AMO-FBCD-004","created_at":"2023-09-<VENDOR_ID>8T06:42:57Z","updated_at":"2023-09-<VENDOR_ID>8T06:43:<VENDOR_ID><VENDOR_ID>Z","country":null,"address_line<VENDOR_ID>":null,"address_line2":null,"state":null,"zipcode":null,"email":"test@e<VENDOR_AUTH_CODE>ample.com","city":null,"url":null,"phone":null,"logo_url":null,"legal_name":null,"legal_number":null,"currency":"USD","ta<VENDOR_AUTH_CODE>_identification_number":null,"timezone":null,"applicable_timezone":"UTC","net_payment_term":null,"e<VENDOR_AUTH_CODE>ternal_salesforce_id":null,"billing_configuration":{"invoice_grace_period":null,"payment_provider":null,"vat_rate":null,"document_locale":null},"metadata":[],"ta<VENDOR_AUTH_CODE>es":[]}}'
  recorded_at: Wed, 20 Sep 2023 03:27:08 GMT
- request:
    method: post
    uri: http://localhost:3000/api/v<VENDOR_ID>/subscriptions
    body:
      encoding: UTF-8
      string: '{"subscription":{"e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","plan_code":"default","name":"default","e<VENDOR_AUTH_CODE>ternal_id":"gid://dummy/Pay::Subscription/9<VENDOR_ID>3727099"}}'
    headers:
      Authorization:
      - Bearer <VENDOR_ID>55ed033-87<VENDOR_ID>6-4587-9ac6-fed8ddae33<VENDOR_ID>7
      Content-Type:
      - application/json
      User-Agent:
      - Lago Ruby v0.44.0-beta
      Accept-Encoding:
      - gzip;q=<VENDOR_ID>.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"e02fd87d05bded0f<VENDOR_ID>ac0e8d<VENDOR_ID>345a699<VENDOR_ID>"
      Cache-Control:
      - ma<VENDOR_AUTH_CODE>-age=0, private, must-revalidate
      X-Request-Id:
      - fd96eca5-5543-4934-be42-e26299bf9963
      X-Runtime:
      - 0.02<VENDOR_ID>745
      Vary:
      - Origin
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"subscription":{"lago_id":"4a849692-2b6d-48cc-a3f4-02c03a004b3b","e<VENDOR_AUTH_CODE>ternal_id":"gid://dummy/Pay::Subscription/9<VENDOR_ID>3727099","lago_customer_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","name":"default","plan_code":"default","status":"active","billing_time":"calendar","subscription_at":"2023-09-<VENDOR_ID>9T00:47:59Z","started_at":"2023-09-<VENDOR_ID>9T00:47:59Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-<VENDOR_ID>9T00:47:59Z","previous_plan_code":null,"ne<VENDOR_AUTH_CODE>t_plan_code":"another_plan","downgrade_plan_date":"2023-<VENDOR_ID>0-0<VENDOR_ID>","subscription_date":"2023-09-<VENDOR_ID>9"}}'
  recorded_at: Wed, 20 Sep 2023 03:27:08 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v<VENDOR_ID>/subscriptions?e<VENDOR_AUTH_CODE>ternal_customer_id=gid://dummy/Pay::Customer/772847388&per_page=9223372036854775807
    body:
      encoding: UTF-8
      string: ''
    headers:
      Authorization:
      - Bearer <VENDOR_ID>55ed033-87<VENDOR_ID>6-4587-9ac6-fed8ddae33<VENDOR_ID>7
      Content-Type:
      - application/json
      User-Agent:
      - Lago Ruby v0.44.0-beta
      Accept-Encoding:
      - gzip;q=<VENDOR_ID>.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"7fc7bee0fb8<VENDOR_ID>0974f<VENDOR_ID>9d<VENDOR_ID>7e80ded8d7b"
      Cache-Control:
      - ma<VENDOR_AUTH_CODE>-age=0, private, must-revalidate
      X-Request-Id:
      - 798b937b-6<VENDOR_ID>2a-4e6f-ae3a-7c23a8d96d65
      X-Runtime:
      - 0.0<VENDOR_ID><VENDOR_ID>820
      Vary:
      - Origin
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"lago_id":"4a849692-2b6d-48cc-a3f4-02c03a004b3b","e<VENDOR_AUTH_CODE>ternal_id":"gid://dummy/Pay::Subscription/9<VENDOR_ID>3727099","lago_customer_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","name":"default","plan_code":"default","status":"active","billing_time":"calendar","subscription_at":"2023-09-<VENDOR_ID>9T00:47:59Z","started_at":"2023-09-<VENDOR_ID>9T00:47:59Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-<VENDOR_ID>9T00:47:59Z","previous_plan_code":null,"ne<VENDOR_AUTH_CODE>t_plan_code":"another_plan","downgrade_plan_date":"2023-<VENDOR_ID>0-0<VENDOR_ID>","subscription_date":"2023-09-<VENDOR_ID>9"}],"meta":{"current_page":<VENDOR_ID>,"ne<VENDOR_AUTH_CODE>t_page":null,"prev_page":null,"total_pages":<VENDOR_ID>,"total_count":<VENDOR_ID>}}'
  recorded_at: Wed, 20 Sep 2023 03:27:08 GMT
- request:
    method: post
    uri: http://localhost:3000/api/v<VENDOR_ID>/subscriptions
    body:
      encoding: UTF-8
      string: '{"subscription":{"e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","plan_code":"another_plan","e<VENDOR_AUTH_CODE>ternal_id":"gid://dummy/Pay::Subscription/9<VENDOR_ID>3727099"}}'
    headers:
      Authorization:
      - Bearer <VENDOR_ID>55ed033-87<VENDOR_ID>6-4587-9ac6-fed8ddae33<VENDOR_ID>7
      Content-Type:
      - application/json
      User-Agent:
      - Lago Ruby v0.44.0-beta
      Accept-Encoding:
      - gzip;q=<VENDOR_ID>.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"e02fd87d05bded0f<VENDOR_ID>ac0e8d<VENDOR_ID>345a699<VENDOR_ID>"
      Cache-Control:
      - ma<VENDOR_AUTH_CODE>-age=0, private, must-revalidate
      X-Request-Id:
      - fd754b57-e750-4d0<VENDOR_ID>-92b8-b77f4489304d
      X-Runtime:
      - 0.03960<VENDOR_ID>
      Vary:
      - Origin
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"subscription":{"lago_id":"4a849692-2b6d-48cc-a3f4-02c03a004b3b","e<VENDOR_AUTH_CODE>ternal_id":"gid://dummy/Pay::Subscription/9<VENDOR_ID>3727099","lago_customer_id":"c8bb805a-590c-444f-ae<VENDOR_ID>4-66589764f273","e<VENDOR_AUTH_CODE>ternal_customer_id":"gid://dummy/Pay::Customer/772847388","name":"default","plan_code":"default","status":"active","billing_time":"calendar","subscription_at":"2023-09-<VENDOR_ID>9T00:47:59Z","started_at":"2023-09-<VENDOR_ID>9T00:47:59Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-<VENDOR_ID>9T00:47:59Z","previous_plan_code":null,"ne<VENDOR_AUTH_CODE>t_plan_code":"another_plan","downgrade_plan_date":"2023-<VENDOR_ID>0-0<VENDOR_ID>","subscription_date":"2023-09-<VENDOR_ID>9"}}'
  recorded_at: Wed, 20 Sep 2023 03:27:08 GMT
recorded_with: VCR 6.2.0
